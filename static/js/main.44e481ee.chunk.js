(this["webpackJsonpweather-ui"]=this["webpackJsonpweather-ui"]||[]).push([[0],{29:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},57:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),i=c.n(a),o=c(30),s=c.n(o),r=(c(38),c(10)),l=c(2),u=c(9),d=(c(39),c.p+"static/media/search.812c11b6.svg"),j=function(e){var t=e.searchText,c=e.setSearchText,a=e.onSearch;return Object(n.jsxs)("div",{className:"search-bar-ctn",children:[Object(n.jsx)("img",{src:d,alt:"search",style:{opacity:.5,margin:"0 8px 0 12px"}}),Object(n.jsx)("input",{className:"search-bar-input",value:t,placeholder:"Search City",onChange:function(e){return c(e.target.value)},onKeyPress:function(e){13===(e.keyCode||e.which)&&a()}},"random1")]})},m={BASE:"/",DETAIL:"detail"},h=c(8),b=c(31),f=c.n(b).a.create({baseURL:"https://api.weatherapi.com/v1/",timeout:3e3});f.defaults.params={},f.defaults.params.key="41a3e4d0c8414773969125202200812";var O=function(e){return f.get(e)},x=["Tokyo","Delhi","Shanghai","Sao Paulo","Mexico City","Dhaka","Cairo","Beijing","Mumbai","Osaka-Shi","Karachi","Chongqing","Istanbul","Buenos Aires","Kolkata"],g="FAVORITES",v="TOP_CITIES",p="|",y=function(e,t){t?localStorage.setItem(t,JSON.stringify(e)):localStorage.setItem(e.location.name,JSON.stringify(e))},S=function(){var e,t=localStorage.getItem(g);return t?e=t.split("|"):(e=[],localStorage.setItem(g,"")),e.sort((function(e,t){return e.localeCompare(t)}))},N=function(){var e,t=localStorage.getItem(v);return null===t?(e=x.sort((function(e,t){return e.localeCompare(t)})),localStorage.setItem(v,e.join(p))):e=t.split(p),e},k=function(e){var t=localStorage.getItem(e);return t?new Promise((function(e){e({status:200,data:JSON.parse(t)})})):O(function(e){return"".concat("/current.json","?q=").concat(e)}(e))},I=y,C=function(e){var t=localStorage.getItem(v);if(t){var c=t.split(p),n=c.indexOf(e);-1!==n&&(c.splice(n,1),localStorage.setItem(v,c.join(p)))}},E=S,w=function(e){var t,c=localStorage.getItem(g);(t=c?c.split(p):[]).push(e),localStorage.setItem(g,t.join(p))},T=function(e){var t=localStorage.getItem(g);if(t){var c=t.split(p),n=c.indexOf(e);-1!==n&&(c.splice(n,1),localStorage.setItem(g,c.join(p)))}},A=function(e,t){return y(e,t),Object(h.a)(Object(h.a)({},e),{},{like:-1!==S().indexOf(e.location.name)})},L=(c(57),function(){var e=Object(a.useState)(),t=Object(u.a)(e,2),c=t[0],i=t[1],o=Object(l.e)();Object(a.useEffect)((function(){window.navigator.geolocation&&window.navigator.geolocation.getCurrentPosition((function(e){k("".concat(e.coords.latitude,", ").concat(e.coords.longitude)).then(s)}))}),[]);var s=function(e){e&&200===e.status&&e.data&&e.data.current?o.push({pathname:"".concat(m.BASE).concat(m.DETAIL,"/").concat(e.data.location.name),state:A(e.data)}):d()},d=function(){return o.push({pathname:"".concat(m.BASE).concat(m.DETAIL,"/").concat(c),state:null})};return Object(n.jsx)("header",{className:"header-ctn",children:Object(n.jsxs)("div",{className:"header-content",children:[Object(n.jsxs)("div",{style:{display:"flex",height:"100%"},children:[Object(n.jsx)(r.b,{to:"/",exact:!0,activeClassName:"header-active",className:"header-menu",children:"Home"}),Object(n.jsx)(r.b,{activeClassName:"header-active",className:"header-menu",style:{marginLeft:20},to:"/detail",children:"Detail Page"})]}),Object(n.jsx)(j,{searchText:c,setSearchText:i,onSearch:function(){c&&k(c).then(s).catch((function(e){d()}))}})]})})}),D=c(19),B=(c(63),c.p+"static/media/close.d1a6d0d8.svg"),F=function(e){var t=e.label,c=e.cities,a=e.onItemRemove,i=Object(l.e)();return Object(n.jsxs)("div",{style:{margin:"24px 0"},children:[Object(n.jsx)("div",{className:"city-list-header-ctn",children:t}),Object(n.jsx)("div",{className:"city-list",children:c&&c.length>0?c.map((function(e,t){return Object(n.jsxs)("div",{className:"city-card",onClick:function(){return function(e){i.push({pathname:"".concat(m.BASE).concat(m.DETAIL,"/").concat(e.location.name),state:e})}(e)},children:[Object(n.jsxs)("div",{className:"city-card-content",children:[Object(n.jsxs)("div",{style:{flex:1},children:[e.location.name,", ",Object(n.jsx)("br",{}),e.location.country]}),Object(n.jsx)("img",{src:e.current.condition.icon,alt:"weather-icon",className:"city-weather-icon"}),Object(n.jsxs)("span",{style:{fontSize:36,width:80},children:[e.current.temp_c.toFixed(0),"\xb0C"]})]}),Object(n.jsx)("img",{src:B,alt:"close",className:"city-remove",onClick:function(t){return function(e,t){e.stopPropagation(),a(t)}(t,e.location.name)}})]},t)})):Object(n.jsx)("p",{style:{opacity:.5,margin:"0 0 24px 24px"},children:"Empty list"})})]})},P=c.p+"static/media/liked.38eb2764.svg",R=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),c=t[0],i=t[1],o=Object(a.useState)([]),s=Object(u.a)(o,2),r=s[0],l=s[1];Object(a.useEffect)((function(){N().forEach((function(e){e&&k(e).then((function(e){e&&200===e.status&&e.data&&e.data.current&&i((function(t){return[].concat(Object(D.a)(t),[A(e.data)])}))}))})),E().forEach((function(e){k(e).then((function(e){l((function(t){return[].concat(Object(D.a)(t),[Object(h.a)(Object(h.a)({},e.data),{},{like:!0})])})),I(e.data)}))}))}),[]);return Object(n.jsxs)("div",{children:[Object(n.jsx)(F,{label:Object(n.jsxs)(n.Fragment,{children:["Favorites",Object(n.jsx)("img",{src:P,alt:"like",style:{width:24,marginLeft:16}})]}),cities:r,onItemRemove:function(e){T(e),l((function(t){return t.filter((function(t){return t.location.name!==e}))}))}}),Object(n.jsx)(F,{label:"Top Cities",cities:c,onItemRemove:function(e){C(e),i((function(t){return t.filter((function(t){return t.location.name!==e}))}))}})]})},_=(c(29),function(e){var t=e.note,c=e.onSave,i=e.editing,o=Object(a.useState)(t),s=Object(u.a)(o,2),r=s[0],l=s[1];Object(a.useEffect)((function(){l(t)}),[t]);return Object(n.jsxs)("div",{style:{display:"flex",alignItems:"flex-end"},children:[i||r?Object(n.jsx)("textarea",{placeholder:"your note here...",className:"text-area",rows:3,cols:50,onChange:function(e){l(e.target.value)},disabled:!i,children:r}):null,i&&Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{className:"button",onClick:function(){c(""),l("")},children:"Remove"}),Object(n.jsx)("button",{className:"button",onClick:function(){c(r)},children:"Save"})]})]})}),W=c.p+"static/media/note.dfee6669.png",J=c.p+"static/media/like.ade31eff.svg",z=function(e){var t=Object(l.f)().name,c=e.location.state,i=Object(a.useState)(c),o=Object(u.a)(i,2),s=o[0],r=o[1],d=Object(a.useState)(void 0===(null===s||void 0===s?void 0:s.note)),j=Object(u.a)(d,2),m=j[0],b=j[1];Object(a.useEffect)((function(){r(c)}),[c]),Object(a.useEffect)((function(){!s&&t&&k(t).then((function(e){if(e&&200===e.status&&e.data&&e.data.current){var c=e.data;r(A(c,t)),t!==c.location.name&&I(e.data)}else r(null)}))}),[s,t]);var f=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return Object(n.jsxs)("div",{className:"city-detail-row",children:[Object(n.jsx)("div",{style:{opacity:.8},children:e}),Object(n.jsxs)("div",{style:{fontSize:18,fontWeight:500},children:[t,c]})]})};return s?Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"detail-header-ctn",children:[Object(n.jsxs)("h2",{children:[s.location.name,", ",s.location.country]}),Object(n.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(n.jsx)("img",{src:W,alt:"note",className:"detail-action-icon",onClick:function(){m||b(!m)}}),Object(n.jsx)("img",{src:s.like?P:J,alt:"like",className:"detail-action-icon",onClick:function(){s&&(s.like?T(s.location.name):w(s.location.name),r(Object(h.a)(Object(h.a)({},s),{},{like:!s.like})))}})]})]}),Object(n.jsx)(_,{note:s.note,onSave:function(e){if(s){var t=Object(h.a)(Object(h.a)({},s),{},{note:e});r(t),I(t),b(!1)}},editing:m}),Object(n.jsx)("p",{style:{fontSize:18,fontWeight:500,marginBottom:0},children:"CURRENT WEATHER"}),Object(n.jsx)("p",{className:"local-time",children:s.location.localtime}),Object(n.jsxs)("div",{style:{display:"flex",alignItems:"center",position:"relative"},children:[Object(n.jsxs)("div",{className:"city-detail-icon-ctn",children:[Object(n.jsx)("img",{src:s.current.condition.icon,alt:"weather-icon",width:150}),Object(n.jsx)("p",{style:{marginTop:8,textAlign:"center"},children:s.current.condition.text})]}),Object(n.jsxs)("div",{style:{marginLeft:16},children:[Object(n.jsxs)("div",{className:"city-detail-temp",children:[s.current.temp_c,"\xb0",Object(n.jsx)("span",{style:{fontSize:24,marginLeft:-25,opacity:.6},children:"C"})]}),Object(n.jsxs)("div",{className:"city-detail-feellike",children:["Feel Like ",s.current.feelslike_c,"\xb0"]})]})]}),Object(n.jsxs)("div",{className:"city-detail-rows-ctn",children:[f("Wind",s.current.wind_kph,"km/h"),f("Wind Degree",s.current.wind_degree,Object(n.jsx)(n.Fragment,{children:"\xb0C"})),f("Wind Direction",s.current.wind_dir),f("Pressure",s.current.pressure_mb,"mb"),f("Humidity",s.current.humidity,"%"),f("Cloud Cover",s.current.cloud,"%"),f("UV Index",s.current.uv),f("Visibility",s.current.vis_km,"km")]})]}):Object(n.jsx)("div",{children:"No result"})},H=function(){return Object(n.jsx)(r.a,{children:Object(n.jsxs)("div",{className:"app-ctn",children:[Object(n.jsx)(L,{}),Object(n.jsxs)("div",{className:"app-content",children:[Object(n.jsx)(l.a,{path:"/",exact:!0,component:R}),Object(n.jsx)(l.a,{path:"".concat(m.BASE).concat(m.DETAIL,"/:name"),component:z})]})]})})},K=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,65)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;c(e),n(e),a(e),i(e),o(e)}))};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(H,{})}),document.getElementById("root")),K()}},[[64,1,2]]]);
//# sourceMappingURL=main.44e481ee.chunk.js.map